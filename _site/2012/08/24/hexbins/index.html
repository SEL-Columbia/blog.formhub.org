<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta charset="utf-8">
    <title>
        formhub blog
    </title>
    <meta name="author" content="formhub blog"/>
    <meta name="description" content="updates from the formhub team on your favorite data gathering platform."/>
    <link href="/css/reset.css" media="all" rel="stylesheet" type="text/css"/>
    <link href="/css/styles.css" media="all" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
    <link rel="alternate" type="application/rss+xml" href="/atom.xml"/>
</head>

<body>
<div class="content">


    <div class="clear" id="features"></div>

    <div class="sectiontitle"><a href="/"><font color="#e66e1f">Formhub Blog</font></a></div>
    <div class="tagline">Project updates and user experiences from around the world</div>
    <div class="subnav"><a href="/posts.html">Archives</a> | <a href="http://formhub.org">formhub.org</a></div>

    <div id="post">
        <div id="postwrap">
            <span style="margin-left: 610px;"><a href="https://twitter.com/intent/tweet?text=Hexbins!&url=http://blog.formhub.org//2012/08/24/hexbins"><i class="icon-twitter icon-large"></i></a></span>
            <div class="question">Hexbins!</div>
            <div class="postdate"><span class=boldallcaps> Friday 24, August 2012</span>
            </div>

            <div class="answer">
                <p><em>Prabhas Pokharel</em></p>

<p>In this blog post, I want to introduce a feature we&rsquo;ve added to formhub a little while back: spatial summarization using hexagonal bins.</p>

<p>The idea of hexagonal binning of 2D space is extremely similar to that of histograms, just extended to 2D space. You take the range of data, split it into several chunks, and compare an aggregation across these chunks. Instead of the line that forms a base of the histogram, we choose hexagonal bins as our &ldquo;chunk,&rdquo; and represent aggregate data using colors rather than height or width. I&rsquo;ll let <a href="http://indiemaps.com/blog/2011/10/hexbins/">this </a><a href="http://indiemaps.com/blog/2011/10/hexbins/">article</a> do the talking if you are interested in learning more, and move on to examples.</p>

<p>At formhub, we have enabled two different forms of spatial summarization:</p>

<h2>Counts</h2>

<p>This is the most basic (and often most useful) form of summarization, showing the distribution of counts across space. Lets say, in a survey about water points in some area, we want to answer a basic question: what is the distribution of water points across the survey area? While the spatial scatter of the map view already gives us a basic clue, hex bins can alleviate problems overplotting might cause, and give us a glance at this information. On the top-right &ldquo;layers&rdquo; control (<a href="/images/posts/2012/08/Screen-Shot-2012-08-10-at-5.55.11-PM.png"><img src="http://formhub.org/static/css/images/layers.png" alt="" /></a>) , select the &ldquo;Hexbin layer&rdquo; checkbox to see this summarization.</p>

<p><a href="/images/posts/2012/08/Screen-Shot-2012-08-10-at-5.55.11-PM.png">
<img src="/images/posts/2012/08/Screen-Shot-2012-08-10-at-5.55.11-PM.png" alt="" /></a></p>

<h2>Proportion of given response(s)</h2>

<p>This count-based summarization is quite useful, but easy to do in GIS and other software, particularly because a survey will only produce a single unique count-based summarization.</p>

<p>The power of hexbins in formhub is that they allow you to look at your data in a much richer way. In a water point survey, for example, you might care about what proportion of water points within a given area are non-functional. To do that, you would click on &ldquo;View by&rdquo;, find the question whose responses you want to spatially visualize (such as &ldquo;Is the water point functional&rdquo;) and select &ldquo;No&rdquo; in the legend.</p>

<p><a href="/images/posts/2012/08/Screen-Shot-2012-08-10-at-6.00.46-PM.png"><img src="/images/posts/2012/08/Screen-Shot-2012-08-10-at-6.00.46-PM.png" alt="" /></a></p>

<p> What you see, denoted by the intensity of blue in this view, is the percentage of water points that are non-functional in an area. You can in fact go ahead and click on any select-one question in the view-by menu, and select any option to look at how the responses to that questions are spread spatially. We believe this is quite a powerful feature, given that you can choose which response in a particular survey is most valuable to you. In the water points case above, the hexbin density map can practically be used to set the agenda for which areas are in the most need to their water points being fixed!</p>

<p>The caveat here is that a deep blue hexagonal bin may represent an area where the only water point is non-functional, or an area where 10 out of 10 water points are non-functional. We made the default coloration proportion rather than count because we think that is more important and hard to derive; we&rsquo;ll add a toggle to color hex bins by &lsquo;the number of non-functional water points in an area&rsquo; when we redesign the map page in the early fall.</p>

<p>Let us know what you think of this feature either here in the comments or on the <a href="https://groups.google.com/forum/?fromgroups#!forum/formhub-users">formhub-users mailing list</a>, particularly if you come up with interesting uses or insights from the feature. And thanks to github user <a href="http://github.com/indiemaps">@indiemaps</a> for contributing <a href="https://github.com/indiemaps/hexbin-js/">the javascript library</a> that performs much of the heavy lifting for this feature.</p>

            </div>
        </div>
    </div>

    <div class="bottom-bar"><a class="big button gray" href="/"><i class="icon-reply"></i></a></div>



<div id="bottom-spacer-bar"></div>
</div>

<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-83697-2']);
    _gaq.push(['_trackPageview']);

    (function () {
        var ga = document.createElement('script');
        ga.type = 'text/javascript';
        ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(ga, s);
    })();
</script>
</body>
</html>